# УЛУЧШЕННОЕ ЛОГИРОВАНИЕ UNIFI CLI

**Версия 0.1.3_alpha**

---

## ✅ Что добавлено

- 📋 Подробные логи всех операций
- 🔍 Режим отладки с детальной информацией (`-d` флаг)
- 🚨 Интеллектуальная диагностика ошибок
- ⏰ Временные метки для всех событий
- 🔗 HTTP коды и содержимое ответов API
- 💡 Рекомендации по устранению проблем

---

## 📖 Использование

### Обычный режим
```bash
./unifi --list
```

### Режим отладки
```bash
./unifi -d --list
```

### Сохранение логов
```bash
./unifi --list 2> logs.txt
```

### Только ошибки
```bash
./unifi --list 2>&1 | grep ERROR
```

### Только результаты (без логов)
```bash
./unifi --list 2> /dev/null
```

---

## 🔧 Решение ошибки "Expecting value: line 1 column 1 (char 0)"

Теперь вы увидите:
```
[API-ERROR] Ошибка подключения: сервер недоступен (HTTP 000)
[API-ERROR] Проверьте: 1) доступность сервера, 
                       2) правильность URL в конфигурации,
                       3) сетевое подключение
```

### Что проверить:
1. `ping unificontroller`
2. Проверьте URL в файле `unifi.conf`
3. Убедитесь что UniFi Controller запущен на порту 8443

---

## 📚 Документация

- [LOGGING.md](LOGGING.md) - Полное руководство по логированию
- [LOGGING_SUMMARY.md](LOGGING_SUMMARY.md) - Краткая сводка изменений
- [CHANGELOG_LOGGING.md](CHANGELOG_LOGGING.md) - Детальный список изменений

---

## 💡 Примеры диагностики

| HTTP Код | Описание |
|----------|----------|
| `000` | Сервер недоступен |
| `401` | Неверная авторизация |
| `403` | Доступ запрещен |
| `404` | Ресурс не найден |
| `500+` | Ошибка сервера |

---

## 🎯 Быстрый тест

```bash
# Проверка с отладкой
./unifi -d -v

# Первые 20 строк вывода
./unifi --list 2>&1 | head -20

# Только HTTP коды
./unifi -d --list 2>&1 | grep HTTP
```

